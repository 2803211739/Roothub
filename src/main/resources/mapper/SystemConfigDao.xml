<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
 
<mapper namespace="cn.roothub.dao.SystemConfigDao">
    
    <select id="selectById" resultType="cn.roothub.entity.SystemConfig">
		SELECT
        	*
		FROM
			system_config
		WHERE
			system_config_id = #{id}
     </select>
    
    <select id="selectByKey" resultType="cn.roothub.entity.SystemConfig">
		SELECT
        	*
		FROM
			system_config
		WHERE
			key = #{key}
     </select>
     
     <!-- 查询上传类型 -->
     <select id="selectUploadType" resultType="cn.roothub.entity.SystemConfig">
		SELECT
        	*
		FROM
			system_config
		WHERE
			`key` in ('default_upload','local_upload','oss_upload')
		AND `value` = '1'
     </select>
    
	<select id="selectAll" resultType="cn.roothub.entity.SystemConfig">
		SELECT
        	*
		FROM
			system_config
     </select>
	
	<select id="selectByPid" resultType="cn.roothub.entity.SystemConfig">
		SELECT
        	*
		FROM
			system_config
		WHERE 
			pid = #{pid}
     </select>
     
     <select id="selectBatchKeys" resultType="cn.roothub.entity.SystemConfig">
		SELECT
        	a.*
		FROM
			system_config a
		WHERE 
			a.key in
		<foreach item="key" collection="keys" open="(" separator="," close=")">  
		      #{key}
	    </foreach>
     </select>
     
     <update id="update" parameterType="cn.roothub.entity.SystemConfig">
     	UPDATE 
     		system_config a
     	SET
     		a.value = #{value}
     	WHERE 
     		a.key = #{key}
     </update>
     
</mapper>